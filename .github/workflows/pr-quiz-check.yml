# Ejemplo de Workflow para usar PR Quiz Checker

name: PR Quiz Check

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  quiz-check:
    runs-on: ubuntu-latest
    name: Verificar Comprensión del PR

    steps:
      - name: Checkout código
        uses: actions/checkout@v4

      # Ejecutar la action (sin necesidad de backend)
      - name: PR Quiz Checker
        uses: ./
        id: quiz-check
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          mock-behavior: "AUTO_PASS" # AUTO_PASS, PENDING, FAILED, PASSED
          auto-pass-seconds: "30" # Auto-aprobar después de 30 segundos
          polling-interval: "10"
          max-polling-attempts: "30"

      # Opcional: Usar outputs
      - name: Mostrar resultado
        if: always()
        run: |
          echo "Quiz URL: ${{ steps.quiz-check.outputs.quiz-url }}"
          echo "Estado final: ${{ steps.quiz-check.outputs.quiz-status }}"
